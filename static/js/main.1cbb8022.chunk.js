(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{217:function(e,t,a){e.exports=a(462)},222:function(e,t,a){},462:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(9),o=a.n(l),i=(a(222),a(223),a(113)),c=a(196),s=a(197),d=a(214),u=a(198),p=a(215),m=a(150),h=a.n(m),f=a(465),g=a(13),v=a(50),y=a(151),w=a.n(y),b=a(199),E=a(213),k=a(82),x=a(464),j=a(466),I=a(467),A=["Science","History","Religion","Thailand","Art","Music","International","Technology","Health","Food"],S=["Who","When","Where","What","How + Adj/Adv"];function O(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"file",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"txt",r=new Blob([decodeURIComponent(encodeURI(e))],{type:t}),l=URL.createObjectURL(r),o=document.createElement("a");o.setAttribute("href",l),o.setAttribute("download",a+"."+n);var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(i)}var D=k.a.Option,W=x.a.Item,q=j.a.TextArea,C=x.a.create()(function(e){var t=e.form.getFieldDecorator,a=e.db,l=Object(n.useState)(!1),o=Object(E.a)(l,2),c=o[0],s=o[1];return r.a.createElement(x.a,null,r.a.createElement(W,{label:"Article ID"},t("articleId",{rules:[{required:!0}]})(r.a.createElement(j.a,null))),r.a.createElement(W,{label:"Article"},t("article",{rules:[{required:!0}]})(r.a.createElement(j.a,null))),r.a.createElement(W,{label:"Category"},t("category",{initialValue:"Science",rules:[{required:!0}]})(r.a.createElement(k.a,null,A.map(function(e,t){return r.a.createElement(D,{value:e,key:t},e)})))),r.a.createElement(W,{label:"Paragraph"},t("paragraph",{rules:[{required:!0}]})(r.a.createElement(q,null))),r.a.createElement(W,{label:"WH Word"},t("wh",{initialValue:"Who",rules:[{required:!0}]})(r.a.createElement(k.a,null,S.map(function(e,t){return r.a.createElement(D,{value:e,key:t},e)})))),r.a.createElement(W,{label:"Question"},t("question",{rules:[{required:!0}]})(r.a.createElement(j.a,null))),r.a.createElement(W,{label:"Answer"},t("answer",{rules:[{required:!0}]})(r.a.createElement(j.a,null))),r.a.createElement(W,{style:{textAlign:"center"}},r.a.createElement(v.a,{onClick:function(t){var n=e.form.validateFields;t.preventDefault(),n(function(){var e=Object(b.a)(w.a.mark(function e(t,n){var r,l;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:return r=A.findIndex(function(e){return e===n.category}),l=S.findIndex(function(e){return e===n.wh}),e.prev=4,s(!0),e.next=8,a.collection("dataset").add(Object(i.a)({},n,{categoryId:r,whId:l}));case 8:I.a.success({message:"Data added successfully."}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0),I.a.error({message:"Something went wrong, please try again."});case 15:return e.prev=15,s(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[4,11,15,18]])}));return function(t,a){return e.apply(this,arguments)}}())},style:{width:100,height:40},type:"primary",loading:c},"Add")))}),z=a(463),R=[{title:"Article ID",dataIndex:"articleId",key:"articleId"},{title:"Article",dataIndex:"article",key:"article"},{title:"Category",dataIndex:"category",key:"category",filters:A.map(function(e){return{text:e,value:e}}),onFilter:function(e,t){return 0===t.category.indexOf(e)}},{title:"Paragraph",dataIndex:"paragraph",key:"paragraph"},{title:"WH Word",dataIndex:"wh",key:"wh",filters:S.map(function(e){return{text:e,value:e}}),onFilter:function(e,t){return 0===t.wh.indexOf(e)}},{title:"Question",dataIndex:"question",key:"question"},{title:"Answer",dataIndex:"answer",key:"answer"}],T=function(e){var t=e.dataSource,a=e.loading;return r.a.createElement(z.a,{dataSource:t,columns:R,pagination:{pageSize:8},loading:a})},U=f.a.TabPane,F=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(d.a)(this,Object(u.a)(t).call(this,e));return h.a.initializeApp({apiKey:"AIzaSyAeaMv3Y2fp877wzX187ZjT5-7AwxZkU0Y",authDomain:"datasetters.firebaseapp.com",databaseURL:"https://datasetters.firebaseio.com",projectId:"datasetters",storageBucket:"datasetters.appspot.com",messagingSenderId:"340269058452"}),a.db=h.a.firestore(),a.state={dataset:[],loading:!0,downloading:{json:!1,csv:!1}},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.db.collection("dataset").onSnapshot(function(t){e.setState({loading:!0});var a=[];t.forEach(function(e){a.push(e.data())}),e.setState({dataset:a,loading:!1})})}},{key:"handleDownload",value:function(e){var t=this.state,a=t.downloading,n=t.dataset;if(!a[e]){if(a[e]=!0,this.setState({downloading:a}),"json"===e){var r=JSON.stringify(n);console.log(r);O(r,"application/json;charset=utf-8;","dataset","json")}else if("csv"===e){var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Object.keys(e[0]),n=e.map(function(e){return a.map(function(t){return e[t]}).join(",")});return t&&n.splice(0,0,a),n.join("\n")}(n,!0);console.log(l);O(l,"text/csv;charset=utf-8;","dataset","csv")}a[e]=!1,this.setState({downloading:a})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.dataset,n=t.loading,l=t.downloading,o=a.map(function(e,t){return Object(i.a)({},e,{key:t})});return r.a.createElement("div",{className:"App"},r.a.createElement(f.a,{defaultActiveKey:"1"},r.a.createElement(U,{tab:r.a.createElement("span",null,r.a.createElement(g.a,{type:"database"}),"Data Table"),key:"1"},r.a.createElement("div",{style:{padding:"20px 30px"}},r.a.createElement("h1",null,"Dataset",r.a.createElement(v.a,{type:"primary",shape:"round",icon:"download",size:"large",className:"download-btn json-btn",onClick:function(t){return e.handleDownload("json")},loading:l.json},"JSON"),r.a.createElement(v.a,{type:"primary",shape:"round",icon:"download",size:"large",className:"download-btn csv-btn",onClick:function(t){return e.handleDownload("csv")},loading:l.csv},"CSV")),r.a.createElement(T,{dataSource:o,loading:n}))),r.a.createElement(U,{tab:r.a.createElement("span",null,r.a.createElement(g.a,{type:"file-add"}),"Add Data"),key:"2"},r.a.createElement("div",{style:{padding:"20px 100px"}},r.a.createElement("h1",null,"Add Data"),r.a.createElement(C,{db:this.db})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[217,1,2]]]);
//# sourceMappingURL=main.1cbb8022.chunk.js.map